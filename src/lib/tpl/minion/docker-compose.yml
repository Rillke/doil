version: "3.5"
services:
  %TPL_PROJECT_NAME%:
    build:
      context: .
      dockerfile: Dockerfile
    image: debian:stable
    container_name: %TPL_PROJECT_NAME%
    volumes:
      - /usr/lib/doil/tpl/stack/config/minion:/etc/salt/minion
      - /usr/lib/doil/tpl/minion/salt-minion.conf:/etc/supervisor/conf.d/salt-minion.conf
    networks:
      main_saltnet:
        ipv4_address: %TPL_SUB_NET_BASE%
networks:
  main_saltnet:
    external: true
volumes:
    persistent:
